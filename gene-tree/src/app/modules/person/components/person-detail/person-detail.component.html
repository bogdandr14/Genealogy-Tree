<ion-grid>
  <ion-row class="ion-align-item-center">
    <ion-col size-sm="6" offset-sm="3">
      <ion-card>
        <ion-card-header class="ion-align-self-center">
          <ion-row class="ion-justify-content-start">
            <ion-col size-xl="1" size-md="2" size-xs="3">
              <ion-avatar class="">
                <img
                  src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y"
                />
              </ion-avatar>
            </ion-col>
            <ion-col size="6" class="ion-padding-start">
              <ion-card-title>
                <ion-label>
                  <h1>{{ personDetails?.firstName }}</h1></ion-label
                >
              </ion-card-title>
              <ion-card-subtitle>
                <ion-label>
                  <h1>{{ personDetails?.lastName }}</h1></ion-label
                >
              </ion-card-subtitle>
            </ion-col>
          </ion-row>
        </ion-card-header>
        <ion-card-content>
          <ion-list inset="true">
            <ion-list-header>
              <ion-row class="ion-justify-content-start">
                <ion-col>
                  <ion-label><h1>{{ "_details.person" | translate }}</h1></ion-label>
                </ion-col>
                <ion-col size="2" *ngIf="isUser">
                  <ion-button
                    type="button"
                    [routerLink]="['/user/profile']"
                    fill="clear"
                    color="success"
                  >
                    <ion-icon name="person-outline"></ion-icon>
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-list-header>
            <ion-accordion-group>
              <ion-accordion value="colors">
                <ion-item slot="header">
                  <ion-label>{{ "_person.information" | translate }}</ion-label>
                </ion-item>
                <ion-list slot="content">
                  <ion-item>
                    <ion-label> {{ "_person.gender" | translate }}:</ion-label>
                    <span>
                      {{
                        "_genders." + personDetails?.gender?.name
                          | lowercase
                          | translate
                      }}</span
                    >
                  </ion-item>
                  <ion-item>
                    <ion-label>{{ "_person.nationality" | translate }}:</ion-label>
                    <span>
                      {{
                        "_nationalities." + personDetails?.nationality?.name
                          | lowercase
                          | translate
                      }}</span
                    >
                  </ion-item>
                  <ion-item>
                    <ion-label>{{ "_person.religion" | translate }}:</ion-label>
                    <span>
                      {{
                        "_religions." + personDetails?.religion?.name
                          | lowercase
                          | translate
                      }}</span
                    >
                  </ion-item>
                  <ion-item>
                    <ion-label>{{ "_person.birthday" | translate }}:</ion-label>
                    <span>
                      {{ personDetails?.birthDate | date: "dd/MM/yyyy" }}</span
                    >
                  </ion-item>
                  <ion-item *ngIf="personDetails?.deathDate">
                    <ion-label>{{ "_person.deathday" | translate }}:</ion-label>
                    <span>
                      {{ personDetails?.deathDate | date: "dd/MM/yyyy" }}</span
                    >
                  </ion-item>
                  <ion-button
                    expand="block"
                    fill="clear"
                    color="warning"
                    [routerLink]="['/person/edit/', personId]"
                  >
                    {{ "_edit.information" | translate }}
                  </ion-button>
                </ion-list>
              </ion-accordion>
              <ion-accordion value="places">
                <ion-item slot="header">
                  <ion-label>{{ "_user.locations" | translate }}</ion-label>
                </ion-item>
                <ion-list slot="content">
                  <ion-item>
                    <ion-label>{{ "_location.from" | translate }}:</ion-label>
                    <span> {{ personDetails?.birthPlace?.city }}</span>
                  </ion-item>
                  <ion-item>
                    <ion-label>{{ "_location.lives" | translate }}:</ion-label>
                    <span> {{ personDetails?.livingPlace?.city }}</span>
                  </ion-item>
                  <ion-button expand="block" fill="clear" color="warning">
                    {{ "_edit.locations" | translate }}
                  </ion-button>
                </ion-list>
              </ion-accordion>
              <ion-accordion value="parents">
                <ion-item slot="header">
                  <ion-label>{{ "_person.parents" | translate }}</ion-label>
                </ion-item>
                <ion-list slot="content">
                  <div *ngFor="let parent of personDetails.parents">
                    <ion-item>
                      <ion-label>{{ parent.parent.firstName }}</ion-label>
                      <ion-button fill="clear" color="secondary">
                        {{ "_common.details" | translate }}
                      </ion-button>
                    </ion-item>
                  </div>
                  <ion-button expand="block" fill="clear" color="success">
                    {{ "_add.parent" | translate }}
                  </ion-button>
                </ion-list>
              </ion-accordion>
              <ion-accordion value="children">
                <ion-item slot="header">
                  <ion-label>{{ "_person.children" | translate }}</ion-label>
                </ion-item>
                <ion-list slot="content">
                  <div *ngFor="let child of personDetails.children">
                    <ion-item>
                      <ion-label>{{ child.child.firstName }}</ion-label>
                      <ion-button fill="clear" color="secondary">
                        {{ "_common.details" | translate }}
                      </ion-button>
                    </ion-item>
                  </div>
                  <ion-button expand="block" fill="clear" color="success">
                    {{ "_add.child" | translate }}
                  </ion-button>
                </ion-list>
              </ion-accordion>
              <ion-accordion value="marriages">
                <ion-item slot="header">
                  <ion-label>{{ "_person.marriages" | translate }}</ion-label>
                </ion-item>
                <ion-list slot="content">
                  <div *ngFor="let marriages of personDetails.marriages">
                    <ion-item>
                      <ion-label>{{
                        marriages.secondPerson.firstName
                      }}</ion-label>
                      <ion-button fill="clear" color="secondary">
                        {{ "_common.details" | translate }}
                      </ion-button>
                    </ion-item>
                  </div>
                  <ion-button expand="block" fill="clear" color="success">
                    {{ "_add.marriage" | translate }}
                  </ion-button>
                </ion-list>
              </ion-accordion>
            </ion-accordion-group>
            <ion-button
              [routerLink]="['/person/list']"
              expand="block"
              fill="clear"
              color="secondary"
            >
              {{ "_links.goToRelatives" | translate }}
            </ion-button>
            <ion-button
              *ngIf="canDelete"
              expand="block"
              fill="clear"
              color="danger"
              (click)="deletePerson()"
            >
              {{ "_delete.person" | translate }}
            </ion-button>
          </ion-list>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>
